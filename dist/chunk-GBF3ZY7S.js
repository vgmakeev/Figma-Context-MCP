import{c as F,d as y,e as g,f}from"./chunk-HDFA5JOA.js";import{isTruthy as L}from"remeda";function c(e,t,i){if(!(typeof t=="object"&&t!==null)||!(e in t))return!1;let r=t[e];return i?i(r):r!==void 0}function h(e){return typeof e=="object"&&!!e&&"clipsContent"in e&&typeof e.clipsContent=="boolean"}function E(e){return typeof e=="object"&&!!e&&"absoluteBoundingBox"in e&&typeof e.absoluteBoundingBox=="object"&&!!e.absoluteBoundingBox&&"x"in e.absoluteBoundingBox&&"y"in e.absoluteBoundingBox&&"width"in e.absoluteBoundingBox&&"height"in e.absoluteBoundingBox}function k(e,t){let i=["HORIZONTAL","VERTICAL"];return h(t)&&i.includes(t.layoutMode??"NONE")&&E(e)&&e.layoutPositioning!=="ABSOLUTE"}function w(e){return typeof e=="object"&&e!==null&&"top"in e&&"right"in e&&"bottom"in e&&"left"in e}function B(e,t){let i=t;return typeof t=="object"&&!!t&&e in i&&typeof i[e]=="object"&&!!i[e]&&"x"in i[e]&&"y"in i[e]&&"width"in i[e]&&"height"in i[e]}function M(e){return Array.isArray(e)&&e.length===4&&e.every(t=>typeof t=="number")}function C(e,t,i={},o={styles:{}}){let r={globalVars:o,currentDepth:0};return{nodes:e.filter(s=>T(s,i)).map(s=>V(s,t,r,i)).filter(s=>s!==null),globalVars:r.globalVars}}function V(e,t,i,o){if(!T(e,o))return null;let r={id:e.id,name:e.name,type:e.type==="VECTOR"?"IMAGE-SVG":e.type};for(let n of t)n(e,r,i);if(oe(e,i,o)){let n={...i,currentDepth:i.currentDepth+1,parent:e};if(c("children",e)&&e.children.length>0){let s=e.children.filter(a=>T(a,o)).map(a=>V(a,t,n,o)).filter(a=>a!==null);if(s.length>0){let a=o.afterChildren?o.afterChildren(e,r,s):s;a.length>0&&(r.children=a)}}}return r}function T(e,t){return!(!g(e)||t.nodeFilter&&!t.nodeFilter(e))}function oe(e,t,i){return!(i.maxDepth!==void 0&&t.currentDepth>=i.maxDepth)}function z(e){return Object.fromEntries(Object.entries(e).map(([t,i])=>[t,{id:t,key:i.key,name:i.name,componentSetId:i.componentSetId}]))}function $(e){return Object.fromEntries(Object.entries(e).map(([t,i])=>[t,{id:t,key:i.key,name:i.name,description:i.description}]))}function ne(e,t,i={}){let{metadata:o,rawNodes:r,components:n,componentSets:s,extraStyles:a}=re(e),l={styles:{},extraStyles:a},{nodes:p,globalVars:u}=C(r,t,i,l);return{...o,nodes:p,components:z(n),componentSets:$(s),globalVars:{styles:u.styles}}}function re(e){let t={},i={},o={},r;if("nodes"in e){let s=Object.values(e.nodes);s.forEach(a=>{a.components&&Object.assign(t,a.components),a.componentSets&&Object.assign(i,a.componentSets),a.styles&&Object.assign(o,a.styles)}),r=s.map(a=>a.document).filter(g)}else Object.assign(t,e.components),Object.assign(i,e.componentSets),e.styles&&(o=e.styles),r=e.document.children.filter(g);let{name:n}=e;return{metadata:{name:n},rawNodes:r,extraStyles:o,components:t,componentSets:i}}function H(e,t){let i=le(e),o=ce(e,t,i.mode)||{};return{...i,...o}}function O(e,t){if(t&&t.mode!=="none"){let{children:i,mode:o,axis:r}=t,n=ae(r,o);if(i.length>0&&i.reduce((a,l)=>a?"layoutPositioning"in l&&l.layoutPositioning==="ABSOLUTE"?!0:n==="horizontal"?"layoutSizingHorizontal"in l&&l.layoutSizingHorizontal==="FILL":n==="vertical"?"layoutSizingVertical"in l&&l.layoutSizingVertical==="FILL":!1:!1,!0))return"stretch"}switch(e){case"MIN":return;case"MAX":return"flex-end";case"CENTER":return"center";case"SPACE_BETWEEN":return"space-between";case"BASELINE":return"baseline";default:return}}function se(e){switch(e){case"MIN":return;case"MAX":return"flex-end";case"CENTER":return"center";case"STRETCH":return"stretch";default:return}}function P(e){if(e==="FIXED")return"fixed";if(e==="FILL")return"fill";if(e==="HUG")return"hug"}function S(e){if(e==="FIXED")return"fixed";if(e==="AUTO")return"auto"}function v(e){switch(e){case"AUTO":return"auto";case"MIN":return"start";case"CENTER":return"center";case"MAX":return"end";default:return}}function ae(e,t){switch(e){case"primary":switch(t){case"row":return"horizontal";case"column":return"vertical"}case"counter":switch(t){case"row":return"horizontal";case"column":return"vertical"}}}function le(e){if(!h(e))return{mode:"none"};let t={mode:!e.layoutMode||e.layoutMode==="NONE"?"none":e.layoutMode==="HORIZONTAL"?"row":e.layoutMode==="VERTICAL"?"column":"grid"},i=[];if(e.overflowDirection?.includes("HORIZONTAL")&&i.push("x"),e.overflowDirection?.includes("VERTICAL")&&i.push("y"),i.length>0&&(t.overflowScroll=i),e.clipsContent!==void 0&&(t.clipsContent=e.clipsContent),t.mode==="none")return t;if(t.mode==="grid"){let n={};e.gridColumnCount!==void 0&&(n.columns=e.gridColumnCount),e.gridRowCount!==void 0&&(n.rows=e.gridRowCount),e.gridColumnGap!==void 0&&(n.columnGap=`${e.gridColumnGap}px`),e.gridRowGap!==void 0&&(n.rowGap=`${e.gridRowGap}px`),e.gridColumnsSizing&&(n.templateColumns=e.gridColumnsSizing),e.gridRowsSizing&&(n.templateRows=e.gridRowsSizing),Object.keys(n).length>0&&(t.grid=n),(e.paddingTop||e.paddingBottom||e.paddingLeft||e.paddingRight)&&(t.padding=y({top:e.paddingTop??0,right:e.paddingRight??0,bottom:e.paddingBottom??0,left:e.paddingLeft??0}));let s=S(e.primaryAxisSizingMode),a=S(e.counterAxisSizingMode);return(s||a)&&(t.frameSizing={primary:s||"auto",counter:a||"auto"}),e.strokesIncludedInLayout!==void 0&&(t.boxSizing=e.strokesIncludedInLayout?"border-box":"content-box"),e.itemReverseZIndex===!0&&(t.reverseZIndex=!0),t}t.justifyContent=O(e.primaryAxisAlignItems??"MIN",{children:e.children,axis:"primary",mode:t.mode}),t.alignItems=O(e.counterAxisAlignItems??"MIN",{children:e.children,axis:"counter",mode:t.mode}),t.alignSelf=se(e.layoutAlign),t.wrap=e.layoutWrap==="WRAP"?!0:void 0,t.gap=e.itemSpacing?`${e.itemSpacing??0}px`:void 0,e.layoutWrap==="WRAP"&&(e.counterAxisSpacing!==void 0&&(t.rowGap=`${e.counterAxisSpacing}px`),e.counterAxisAlignContent&&(t.alignContent=e.counterAxisAlignContent==="SPACE_BETWEEN"?"space-between":"auto")),(e.paddingTop||e.paddingBottom||e.paddingLeft||e.paddingRight)&&(t.padding=y({top:e.paddingTop??0,right:e.paddingRight??0,bottom:e.paddingBottom??0,left:e.paddingLeft??0}));let o=S(e.primaryAxisSizingMode),r=S(e.counterAxisSizingMode);return(o||r)&&(t.frameSizing={primary:o||"auto",counter:r||"auto"}),e.strokesIncludedInLayout!==void 0&&(t.boxSizing=e.strokesIncludedInLayout?"border-box":"content-box"),e.itemReverseZIndex===!0&&(t.reverseZIndex=!0),t}function ce(e,t,i){if(!E(e))return;let o={mode:i};if(h(t)&&t.layoutMode==="GRID"){let n={};e.gridColumnSpan!==void 0&&(n.columnSpan=e.gridColumnSpan),e.gridRowSpan!==void 0&&(n.rowSpan=e.gridRowSpan),e.gridColumnAnchorIndex!==void 0&&(n.columnStart=e.gridColumnAnchorIndex+1),e.gridRowAnchorIndex!==void 0&&(n.rowStart=e.gridRowAnchorIndex+1),e.gridChildHorizontalAlign&&(n.horizontalAlign=v(e.gridChildHorizontalAlign)),e.gridChildVerticalAlign&&(n.verticalAlign=v(e.gridChildVerticalAlign)),Object.keys(n).length>0&&(o.gridPlacement=n)}o.sizing={horizontal:P(e.layoutSizingHorizontal),vertical:P(e.layoutSizingVertical)},e.scrollBehavior&&e.scrollBehavior!=="SCROLLS"&&(o.scrollBehavior=e.scrollBehavior==="FIXED"?"fixed":e.scrollBehavior==="STICKY_SCROLLS"?"sticky":void 0);let r={};if(e.minWidth!==void 0&&(r.minWidth=f(e.minWidth)),e.maxWidth!==void 0&&(r.maxWidth=f(e.maxWidth)),e.minHeight!==void 0&&(r.minHeight=f(e.minHeight)),e.maxHeight!==void 0&&(r.maxHeight=f(e.maxHeight)),Object.keys(r).length>0&&(o.constraints=r),h(t)&&!k(e,t)&&(e.layoutPositioning==="ABSOLUTE"&&(o.position="absolute"),e.absoluteBoundingBox&&t.absoluteBoundingBox&&(o.locationRelativeToParent={x:f(e.absoluteBoundingBox.x-t.absoluteBoundingBox.x),y:f(e.absoluteBoundingBox.y-t.absoluteBoundingBox.y)})),B("absoluteBoundingBox",e)){let n={};i==="row"?(!e.layoutGrow&&e.layoutSizingHorizontal=="FIXED"&&(n.width=e.absoluteBoundingBox.width),e.layoutAlign!=="STRETCH"&&e.layoutSizingVertical=="FIXED"&&(n.height=e.absoluteBoundingBox.height)):i==="column"?(e.layoutAlign!=="STRETCH"&&e.layoutSizingHorizontal=="FIXED"&&(n.width=e.absoluteBoundingBox.width),!e.layoutGrow&&e.layoutSizingVertical=="FIXED"&&(n.height=e.absoluteBoundingBox.height),e.preserveRatio&&(n.aspectRatio=e.absoluteBoundingBox?.width/e.absoluteBoundingBox?.height)):((!e.layoutSizingHorizontal||e.layoutSizingHorizontal==="FIXED")&&(n.width=e.absoluteBoundingBox.width),(!e.layoutSizingVertical||e.layoutSizingVertical==="FIXED")&&(n.height=e.absoluteBoundingBox.height)),Object.keys(n).length>0&&(n.width&&(n.width=f(n.width)),n.height&&(n.height=f(n.height)),o.dimensions=n)}return o}function ue(e,t,i){let o=t;switch(e){case"FILL":return{css:o?{backgroundSize:"cover",backgroundRepeat:"no-repeat",isBackground:!0}:{objectFit:"cover",isBackground:!1},processing:{needsCropping:!1,requiresImageDimensions:!1}};case"FIT":return{css:o?{backgroundSize:"contain",backgroundRepeat:"no-repeat",isBackground:!0}:{objectFit:"contain",isBackground:!1},processing:{needsCropping:!1,requiresImageDimensions:!1}};case"TILE":return{css:{backgroundRepeat:"repeat",backgroundSize:i?`calc(var(--original-width) * ${i}) calc(var(--original-height) * ${i})`:"auto",isBackground:!0},processing:{needsCropping:!1,requiresImageDimensions:!0}};case"STRETCH":return{css:o?{backgroundSize:"100% 100%",backgroundRepeat:"no-repeat",isBackground:!0}:{objectFit:"fill",isBackground:!1},processing:{needsCropping:!1,requiresImageDimensions:!1}};default:return{css:{},processing:{needsCropping:!1,requiresImageDimensions:!1}}}}function de(e){let i=e.flat().reduce((o,r)=>{let n=r.toString();for(let s=0;s<n.length;s++)o=(o<<5)-o+n.charCodeAt(s)&4294967295;return o},0);return Math.abs(i).toString(16).substring(0,6)}function pe(e){let t=de(e);return{needsCropping:!0,requiresImageDimensions:!1,cropTransform:e,filenameSuffix:`${t}`}}function j(e,t=!1){let i={colors:[]};return c("strokes",e)&&Array.isArray(e.strokes)&&e.strokes.length&&(i.colors=e.strokes.filter(g).map(o=>N(o,t))),c("strokeWeight",e)&&typeof e.strokeWeight=="number"&&e.strokeWeight>0&&(i.strokeWeight=`${e.strokeWeight}px`),c("strokeDashes",e)&&Array.isArray(e.strokeDashes)&&e.strokeDashes.length&&(i.strokeDashes=e.strokeDashes),c("individualStrokeWeights",e,w)&&(i.strokeWeight=y(e.individualStrokeWeights)),i}function N(e,t=!1){if(e.type==="IMAGE"){let i={type:"IMAGE",imageRef:e.imageRef,scaleMode:e.scaleMode,scalingFactor:e.scalingFactor},o=t||i.scaleMode==="TILE",{css:r,processing:n}=ue(i.scaleMode,o,e.scalingFactor),s=n;if(e.imageTransform){let a=pe(e.imageTransform);s={...n,...a,requiresImageDimensions:n.requiresImageDimensions||a.requiresImageDimensions}}return{...i,...r,imageDownloadArguments:s}}else if(e.type==="SOLID"){let{hex:i,opacity:o}=me(e.color,e.opacity);return o===1?i:d(e.color,o)}else{if(e.type==="PATTERN")return fe(e);if(["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_ANGULAR","GRADIENT_DIAMOND"].includes(e.type))return{type:e.type,gradient:Ae(e)};throw new Error(`Unknown paint type: ${e.type}`)}}function fe(e){let t="repeat",i="left";switch(e.horizontalAlignment){case"START":i="left";break;case"CENTER":i="center";break;case"END":i="right";break}let o="top";switch(e.verticalAlignment){case"START":o="top";break;case"CENTER":o="center";break;case"END":o="bottom";break}return{type:e.type,patternSource:{type:"IMAGE-PNG",nodeId:e.sourceNodeId},backgroundRepeat:t,backgroundSize:`${Math.round(e.scalingFactor*100)}%`,backgroundPosition:`${i} ${o}`}}function me(e,t=1){let i=Math.round(e.r*255),o=Math.round(e.g*255),r=Math.round(e.b*255),n=Math.round(t*e.a*100)/100;return{hex:"#"+((1<<24)+(i<<16)+(o<<8)+r).toString(16).slice(1).toUpperCase(),opacity:n}}function d(e,t=1){let i=Math.round(e.r*255),o=Math.round(e.g*255),r=Math.round(e.b*255),n=Math.round(t*e.a*100)/100;return`rgba(${i}, ${o}, ${r}, ${n})`}function ge(e,t={width:1,height:1}){let i=e.gradientHandlePositions;if(!i||i.length<2)return{stops:e.gradientStops.map(({position:a,color:l})=>`${d(l,1)} ${Math.round(a*100)}%`).join(", "),cssGeometry:"0deg"};let[o,r,n]=i;switch(e.type){case"GRADIENT_LINEAR":return ye(e.gradientStops,o,r,t);case"GRADIENT_RADIAL":return xe(e.gradientStops,o,r,n,t);case"GRADIENT_ANGULAR":return Se(e.gradientStops,o,r,n,t);case"GRADIENT_DIAMOND":return be(e.gradientStops,o,r,n,t);default:return{stops:e.gradientStops.map(({position:a,color:l})=>`${d(l,1)} ${Math.round(a*100)}%`).join(", "),cssGeometry:"0deg"}}}function ye(e,t,i,o){let r=i.x-t.x,n=i.y-t.y;if(Math.sqrt(r*r+n*n)===0)return{stops:e.map(({position:m,color:R})=>`${d(R,1)} ${Math.round(m*100)}%`).join(", "),cssGeometry:"0deg"};let a=Math.atan2(n,r)*(180/Math.PI)+90,l=he(t,i);if(l.length>=2){let u=Math.min(l[0],l[1]),m=Math.max(l[0],l[1]),R=m-u;return{stops:e.map(({position:J,color:Q})=>{let ee=d(Q,1),te=(J*1+0-u)/(m-u),ie=Math.max(0,Math.min(1,te));return`${ee} ${Math.round(ie*100)}%`}).join(", "),cssGeometry:`${Math.round(a)}deg`}}return{stops:e.map(({position:u,color:m})=>`${d(m,1)} ${Math.round(u*100)}%`).join(", "),cssGeometry:`${Math.round(a)}deg`}}function he(e,t){let i=t.x-e.x,o=t.y-e.y;if(Math.abs(i)<1e-10&&Math.abs(o)<1e-10)return[];let r=[];if(Math.abs(o)>1e-10){let s=-e.y/o,a=e.x+s*i;a>=0&&a<=1&&r.push(s)}if(Math.abs(o)>1e-10){let s=(1-e.y)/o,a=e.x+s*i;a>=0&&a<=1&&r.push(s)}if(Math.abs(i)>1e-10){let s=-e.x/i,a=e.y+s*o;a>=0&&a<=1&&r.push(s)}if(Math.abs(i)>1e-10){let s=(1-e.x)/i,a=e.y+s*o;a>=0&&a<=1&&r.push(s)}return[...new Set(r.map(s=>Math.round(s*1e6)/1e6))].sort((s,a)=>s-a)}function xe(e,t,i,o,r){let n=Math.round(t.x*100),s=Math.round(t.y*100);return{stops:e.map(({position:l,color:p})=>`${d(p,1)} ${Math.round(l*100)}%`).join(", "),cssGeometry:`circle at ${n}% ${s}%`}}function Se(e,t,i,o,r){let n=Math.round(t.x*100),s=Math.round(t.y*100),a=Math.atan2(i.y-t.y,i.x-t.x)*(180/Math.PI)+90;return{stops:e.map(({position:p,color:u})=>`${d(u,1)} ${Math.round(p*100)}%`).join(", "),cssGeometry:`from ${Math.round(a)}deg at ${n}% ${s}%`}}function be(e,t,i,o,r){let n=Math.round(t.x*100),s=Math.round(t.y*100);return{stops:e.map(({position:l,color:p})=>`${d(p,1)} ${Math.round(l*100)}%`).join(", "),cssGeometry:`ellipse at ${n}% ${s}%`}}function Ae(e){let t={...e,gradientStops:[...e.gradientStops].sort((r,n)=>r.position-n.position)},{stops:i,cssGeometry:o}=ge(t);switch(e.type){case"GRADIENT_LINEAR":return`linear-gradient(${o}, ${i})`;case"GRADIENT_RADIAL":return`radial-gradient(${o}, ${i})`;case"GRADIENT_ANGULAR":return`conic-gradient(${o}, ${i})`;case"GRADIENT_DIAMOND":return`radial-gradient(${o}, ${i})`;default:return`linear-gradient(0deg, ${i})`}}function _(e){if(!c("effects",e))return{};let t=e.effects.filter(l=>l.visible),i=t.filter(l=>l.type==="DROP_SHADOW").map(Ie),o=t.filter(l=>l.type==="INNER_SHADOW").map(Re),r=[...i,...o].join(", "),n=t.filter(l=>l.type==="LAYER_BLUR").map(W).join(" "),s=t.filter(l=>l.type==="BACKGROUND_BLUR").map(W).join(" "),a={};return r&&(e.type==="TEXT"?a.textShadow=r:a.boxShadow=r),n&&(a.filter=n),s&&(a.backdropFilter=s),a}function Ie(e){return`${e.offset.x}px ${e.offset.y}px ${e.radius}px ${e.spread??0}px ${d(e.color)}`}function Re(e){return`inset ${e.offset.x}px ${e.offset.y}px ${e.radius}px ${e.spread??0}px ${d(e.color)}`}function W(e){return`blur(${e.radius}px)`}function U(e){return e.type==="TEXT"}function D(e){return c("style",e)&&Object.keys(e.style).length>0}function X(e){if(c("characters",e,L))return e.characters}function q(e){if(D(e)){let t=e.style;return{fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,lineHeight:"lineHeightPx"in t&&t.lineHeightPx&&t.fontSize?`${t.lineHeightPx/t.fontSize}em`:void 0,letterSpacing:t.letterSpacing&&t.letterSpacing!==0&&t.fontSize?`${t.letterSpacing/t.fontSize*100}%`:void 0,textCase:t.textCase,textAlignHorizontal:t.textAlignHorizontal,textAlignVertical:t.textAlignVertical}}}function x(e,t,i){let[o]=Object.entries(e.styles).find(([n,s])=>JSON.stringify(s)===JSON.stringify(t))??[];if(o)return o;let r=F(i);return e.styles[r]=t,r}var A=(e,t,i)=>{let o=H(e,i.parent);Object.keys(o).length>1&&(t.layout=x(i.globalVars,o,"layout"))},I=(e,t,i)=>{if(U(e)&&(t.text=X(e)),D(e)){let o=q(e);if(o){let r=b(e,i,["text","typography"]);r?(i.globalVars.styles[r]=o,t.textStyle=r):t.textStyle=x(i.globalVars,o,"style")}}},G=(e,t,i)=>{let o=c("children",e)&&Array.isArray(e.children)&&e.children.length>0;if(c("fills",e)&&Array.isArray(e.fills)&&e.fills.length){let s=e.fills.map(l=>N(l,o)).reverse(),a=b(e,i,["fill","fills"]);a?(i.globalVars.styles[a]=s,t.fills=a):t.fills=x(i.globalVars,s,"fill")}let r=j(e,o);if(r.colors.length){let s=b(e,i,["stroke","strokes"]);s?(i.globalVars.styles[s]=r.colors,t.strokes=s,r.strokeWeight&&(t.strokeWeight=r.strokeWeight),r.strokeDashes&&(t.strokeDashes=r.strokeDashes),r.strokeWeights&&(t.strokeWeights=r.strokeWeights)):t.strokes=x(i.globalVars,r,"stroke")}let n=_(e);if(Object.keys(n).length){let s=b(e,i,["effect","effects"]);s?(i.globalVars.styles[s]=n,t.effects=s):t.effects=x(i.globalVars,n,"effect")}c("opacity",e)&&typeof e.opacity=="number"&&e.opacity!==1&&(t.opacity=e.opacity),c("cornerRadius",e)&&typeof e.cornerRadius=="number"&&(t.borderRadius=`${e.cornerRadius}px`),c("rectangleCornerRadii",e,M)&&(t.borderRadius=`${e.rectangleCornerRadii[0]}px ${e.rectangleCornerRadii[1]}px ${e.rectangleCornerRadii[2]}px ${e.rectangleCornerRadii[3]}px`)},K=(e,t,i)=>{e.type==="INSTANCE"&&(c("componentId",e)&&(t.componentId=e.componentId),c("componentProperties",e)&&(t.componentProperties=Object.entries(e.componentProperties??{}).map(([o,{value:r,type:n}])=>({name:o,value:r.toString(),type:n}))))};function b(e,t,i){if(!c("styles",e))return;let o=e.styles;for(let r of i){let n=o[r];if(n){let s=t.globalVars.extraStyles?.[n];if(s?.name)return s.name}}}var Ee=[A,I,G,K],Te=[A,I],Ce=[I],Ne=[G],De=[A],Y=new Set(["IMAGE-SVG","STAR","LINE","ELLIPSE","REGULAR_POLYGON","RECTANGLE"]);function Ge(e,t,i){let o=i.every(r=>Y.has(r.type));return(e.type==="FRAME"||e.type==="GROUP"||e.type==="INSTANCE")&&o?(t.type="IMAGE-SVG",[]):i}export{C as a,ne as b,A as c,I as d,G as e,K as f,Ee as g,Te as h,Ce as i,Ne as j,De as k,Ge as l};
